<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/assets/styleDashboard.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <title>Mi Agenda Médica</title>
</head>
<body>
    <div class="container-agenda">
        <div class="header">
            <h1>Mi Agenda Médica</h1>
            <p>Organiza tus consultorios y horarios de manera sencilla</p>
        </div>
        <button id="helpButton" class="help-btn-agenda">
            Ayuda
            <i class="fas fa-question-circle"></i>
        </button>
        <div id="helpModal" class="help-modal-agenda">
            <div class="modal-content instrucciones">
                <span class="close">&times;</span>
                <h2>¿Cómo usar esta agenda?</h2>
                <ol>
                    <li>Haz clic en "Agregar Nuevo Consultorio" para registrar un consultorio médico</li>
                    <li>Llena los datos básicos: Su ubicación, número de teléfono, etc...</li>
                    <li>Una vez creado, puedes agregar los horarios de atención</li>
                    <li>Puedes eliminar horarios o consultorios cuando lo necesites</li>
                </ol>
            </div>
        </div>
        <button class="boton-grande" onclick="mostrarFormulario()">
            + Agregar Nuevo Consultorio
        </button>

        <div id="formularioConsultorio" class="formulario" style="display: none;">
            <h2>Datos del Nuevo Consultorio</h2>
            <form onsubmit="agregarConsultorio(event)">
              <div class="campo">
                <label for="ubicacion">Dirección:</label>
                <input 
                  type="text" 
                  id="ubicacion" 
                  placeholder="Ejemplo: Av. Principal #123, Piso 2"
                  pattern="^[a-zA-Z0-9À-ÿ\u00f1\u00d1\s,.-/#°]+$" 
                  title="La dirección solo puede incluir letras, números, espacios y caracteres como ,.-/#°"
                  required>
              </div>

              <div class="campo">
                <label for="telefono">Número de Teléfono:</label>
                <input 
                  type="tel" 
                  id="telefono" 
                  name="telefono"
                  placeholder="Ejemplo: 2141481254"
                  maxlength="10"
                  pattern="^[0-9]{10}$"
                  title="Debe ser un número de 10 dígitos sin espacios ni caracteres especiales."
                  required>
              </div>

              <div class="campo">
                <label for="email">Correo Electrónico:</label>
                <input 
                  type="email" 
                  id="email" 
                  placeholder="Ejemplo: citasmedicas@software.com"
                  title="Ingresa un correo electrónico válido."
                  required>
              </div>

              <div class="campo">
                <label for="alias">Alias:</label>
                <input 
                  type="text" 
                  id="alias" 
                  placeholder="Ejemplo: Cercas de Recepción"
                  pattern="^[a-zA-ZÀ-ÿ\u00f1\u00d1]+( [a-zA-ZÀ-ÿ\u00f1\u00d1]+)*$" 
                  title="El alias debe contener solo letras y espacios."
                  required>
              </div>

              <div class="campo">
                <label for="encargado">Encargado:</label>
                <input 
                  type="text" 
                  id="encargado" 
                  placeholder="Ejemplo: Jose Miguel Salas Gallegos"
                  pattern="^[a-zA-ZÀ-ÿ\u00f1\u00d1]+( [a-zA-ZÀ-ÿ\u00f1\u00d1]+)*$" 
                  title="El nombre del encargado debe contener solo letras y espacios."
                  required>
              </div>

              <button type="submit" class="boton-grande">
                Guardar Consultorio
              </button>
            </form>
          </div>          

        <div id="consultoriosContainer">
            <div class="mensaje-vacio" id="mensajeVacio">
                No hay consultorios registrados. ¡Comienza agregando uno!
            </div>
        </div>

        <!-- <div id="modalEditarConsultorio" class="modal">
            <div class="modal-content-consultorio">
                <span class="close" onclick="cerrarModalEditar()">&times;</span>
                <h2>Editar Consultorio</h2>
                <form id="formEditar" onsubmit="actualizarConsultorio(event)">
                    <div class="campo">
                        <label for="ubicacionEditar">Dirección:</label>
                        <input 
                            type="text" 
                            id="ubicacionEditar" 
                            placeholder="Ejemplo: Av. Principal #123, Piso 2"
                            pattern="^[a-zA-Z0-9À-ÿ\u00f1\u00d1\s,.-/#°]+$" 
                            required>
                    </div>
                    <div class="campo">
                        <label for="telefonoEditar">Numero de Teléfono:</label>
                        <input 
                            type="tel" 
                            id="telefonoEditar" 
                            maxlength="10"
                            pattern="^[0-9]{10}$"
                            placeholder="Ejemplo: 214-148-1254"
                            required>
                    </div>
                    <div class="campo">
                        <label for="emailEditar">Correo Electrónico:</label>
                        <input 
                            type="email" 
                            id="emailEditar" 
                            placeholder="Ejemplo: citasmedicas@software.com"
                            required>
                    </div>
                    <div class="campo">
                        <label for="aliasEditar">Alias:</label>
                        <input 
                            type="text" 
                            id="aliasEditar" 
                            pattern="^[a-zA-ZÀ-ÿ\u00f1\u00d1]+( [a-zA-ZÀ-ÿ\u00f1\u00d1]+)*$" 
                            placeholder="Ejemplo: No tengo ni idea"
                            required>
                    </div>
                    <div class="campo">
                        <label for="encargadoEditar">Encargado:</label>
                        <input 
                            type="text" 
                            id="encargadoEditar" 
                            pattern="^[a-zA-ZÀ-ÿ\u00f1\u00d1]+( [a-zA-ZÀ-ÿ\u00f1\u00d1]+)*$" 
                            placeholder="Ejemplo: Jose Miguel Salas Gallegos"
                            required>
                    </div>
                    <button type="submit" class="boton-grande">
                        Guardar Cambios
                    </button>
                </form>
            </div>
        </div> -->
    </div>
    <!-- <div id="modalCierreTemporal" class="modal">
        <div class="modal-content-consultorio">
            <span class="close" onclick="cerrarModalCierreTemporal()">&times;</span>
            <h2>Gestionar Cierre Temporal</h2>
            
            <div id="mensajeCierreActual" style="display: none;">
                <h3>Estado Actual del Cierre</h3>
                <div id="infoCierreActual" class="info-cierre-actual"></div>
                <button id="btnReactivar" class="boton-grande boton-verde" onclick="reactivarConsultorio()">
                    Reactivar Consultorio
                </button>
            </div>
            
            <form id="formCierre" onsubmit="registrarCierreTemporal(event)">
                <div class="campo">
                    <label for="fechaInicioCierre">Fecha de Cierre:</label>
                    <input 
                        type="date" 
                        id="fechaInicioCierre" 
                        required
                        min="<?php echo date('Y-m-d'); ?>"
                    >
                </div>
                
                <div class="campo">
                    <label for="fechaFinCierre">Fecha de Reapertura:</label>
                    <input 
                        type="date" 
                        id="fechaFinCierre" 
                        required
                        min="<?php echo date('Y-m-d'); ?>"
                    >
                </div>
                
                <div class="campo">
                    <label for="motivoCierre">Motivo del Cierre:</label>
                    <textarea 
                        id="motivoCierre" 
                        rows="3" 
                        placeholder="Explique el motivo del cierre temporal"
                        required
                    ></textarea>
                </div>
                
                <button type="submit" class="boton-grande boton-amarillo">
                    Registrar Cierre Temporal
                </button>
            </form>
        </div>
    </div> -->
    <div id="modalHorarios" class="modal">
        <div class="modal-content-consultorio">
            <span class="close" onclick="cerrarModal()">&times;</span>
            <h2>Agregar Horario de Atención</h2>
            <form id="formHorarios" onsubmit="guardarHorario(event)">
                <h3>Selecciona los días:</h3>
                <div class="dias-semana">
                    <input type="checkbox" id="lunes" class="dia-checkbox">
                    <label for="lunes" class="dia-label">Lunes</label>
                    
                    <input type="checkbox" id="martes" class="dia-checkbox">
                    <label for="martes" class="dia-label">Martes</label>
                    
                    <input type="checkbox" id="miercoles" class="dia-checkbox">
                    <label for="miercoles" class="dia-label">Miércoles</label>
                    
                    <input type="checkbox" id="jueves" class="dia-checkbox">
                    <label for="jueves" class="dia-label">Jueves</label>
                    
                    <input type="checkbox" id="viernes" class="dia-checkbox">
                    <label for="viernes" class="dia-label">Viernes</label>
                    
                    <input type="checkbox" id="sabado" class="dia-checkbox">
                    <label for="sabado" class="dia-label">Sábado</label>
                    
                    <input type="checkbox" id="domingo" class="dia-checkbox">
                    <label for="domingo" class="dia-label">Domingo</label>
                </div>

                <div class="horarios-seleccion">
                    <h3>Selecciona el horario:</h3>
                    <div class="horario-input">
                        <span>De:</span>
                        <select id="horaInicio" required>
                            <option value="">Seleccione hora</option>
                            <option value="07:00">07:00</option>
                            <option value="08:00">08:00</option>
                            <option value="09:00">09:00</option>
                            <option value="10:00">10:00</option>
                            <option value="11:00">11:00</option>
                            <option value="12:00">12:00</option>
                            <option value="13:00">13:00</option>
                            <option value="14:00">14:00</option>
                            <option value="15:00">15:00</option>
                            <option value="16:00">16:00</option>
                            <option value="17:00">17:00</option>
                            <option value="18:00">18:00</option>
                            <option value="19:00">19:00</option>
                            <option value="20:00">20:00</option>
                        </select>
                        
                        <span>Hasta:</span>
                        <select id="horaFin" required>
                            <option value="">Seleccione hora</option>
                            <option value="08:00">08:00</option>
                            <option value="09:00">09:00</option>
                            <option value="10:00">10:00</option>
                            <option value="11:00">11:00</option>
                            <option value="12:00">12:00</option>
                            <option value="13:00">13:00</option>
                            <option value="14:00">14:00</option>
                            <option value="15:00">15:00</option>
                            <option value="16:00">16:00</option>
                            <option value="17:00">17:00</option>
                            <option value="18:00">18:00</option>
                            <option value="19:00">19:00</option>
                            <option value="20:00">20:00</option>
                            <option value="21:00">21:00</option>
                        </select>
                    </div>
                </div>

                <button type="submit" class="boton-grande">Guardar Horario</button>
            </form>
        </div>
    </div>
    <!-- <div id="modalEditarHorario" class="modal">
        <div class="modal-content-consultorio">
            <span class="close" onclick="cerrarModalEditarHorario()">&times;</span>
            <h2>Editar Horario de Atención</h2>
            <form id="formEditarHorario" onsubmit="actualizarHorario(event)">
                <h3>Selecciona los días:</h3>
                <div class="dias-semana">
                    <input type="checkbox" id="lunesEditar" class="dia-checkbox">
                    <label for="lunesEditar" class="dia-label">Lunes</label>
                    
                    <input type="checkbox" id="martesEditar" class="dia-checkbox">
                    <label for="martesEditar" class="dia-label">Martes</label>
                    
                    <input type="checkbox" id="miercolesEditar" class="dia-checkbox">
                    <label for="miercolesEditar" class="dia-label">Miércoles</label>
                    
                    <input type="checkbox" id="juevesEditar" class="dia-checkbox">
                    <label for="juevesEditar" class="dia-label">Jueves</label>
                    
                    <input type="checkbox" id="viernesEditar" class="dia-checkbox">
                    <label for="viernesEditar" class="dia-label">Viernes</label>
                    
                    <input type="checkbox" id="sabadoEditar" class="dia-checkbox">
                    <label for="sabadoEditar" class="dia-label">Sábado</label>
                    
                    <input type="checkbox" id="domingoEditar" class="dia-checkbox">
                    <label for="domingoEditar" class="dia-label">Domingo</label>
                </div>
    
                <div class="horarios-seleccion">
                    <h3>Selecciona el horario:</h3>
                    <div class="horario-input">
                        <span>De:</span>
                        <select id="horaInicioEditar" required>
                            <option value="">Seleccione hora</option>
                            <option value="07:00">07:00</option>
                            <option value="08:00">08:00</option>
                            <option value="09:00">09:00</option>
                            <option value="10:00">10:00</option>
                            <option value="11:00">11:00</option>
                            <option value="12:00">12:00</option>
                            <option value="13:00">13:00</option>
                            <option value="14:00">14:00</option>
                            <option value="15:00">15:00</option>
                            <option value="16:00">16:00</option>
                            <option value="17:00">17:00</option>
                            <option value="18:00">18:00</option>
                            <option value="19:00">19:00</option>
                            <option value="20:00">20:00</option>
                        </select>
                        
                        <span>Hasta:</span>
                        <select id="horaFinEditar" required>
                            <option value="">Seleccione hora</option>
                            <option value="08:00">08:00</option>
                            <option value="09:00">09:00</option>
                            <option value="10:00">10:00</option>
                            <option value="11:00">11:00</option>
                            <option value="12:00">12:00</option>
                            <option value="13:00">13:00</option>
                            <option value="14:00">14:00</option>
                            <option value="15:00">15:00</option>
                            <option value="16:00">16:00</option>
                            <option value="17:00">17:00</option>
                            <option value="18:00">18:00</option>
                            <option value="19:00">19:00</option>
                            <option value="20:00">20:00</option>
                            <option value="21:00">21:00</option>
                        </select>
                    </div>
                </div>
    
                <button type="submit" class="boton-grande">Guardar Cambios</button>
            </form>
        </div>
    </div> -->
    <div class="atras">
        <button class="inicio" onclick="inicio()"><i class="fas fa-home"></i> Inicio</button>
        <button onclick="regresar()"><i class="fas fa-arrow-left"></i>Regresar</button>  
    </div>
    <script defer src="abrirAgenda.js"></script>
    <script src="helpBtn.js"></script>
</body>
</html>